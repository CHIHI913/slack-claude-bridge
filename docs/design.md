# Slack Ã— Claude Code é€£æº è¨­è¨ˆæ›¸

## 1. å…¨ä½“ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚     Slack       â”‚
â”‚ (ç‰¹å®šãƒãƒ£ãƒ³ãƒãƒ«)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ WebSocket (Socket Mode)
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           Bridge (Node.js)          â”‚
â”‚                                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚       Slack Bot Client      â”‚    â”‚
â”‚  â”‚   - å—ä¿¡ / æŠ•ç¨¿             â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚                 â”‚                   â”‚
â”‚                 â–¼                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚      Claude Executor        â”‚    â”‚
â”‚  â”‚                             â”‚    â”‚
â”‚  â”‚  - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç† (JSON)     â”‚    â”‚
â”‚  â”‚  - Terminalèµ·å‹• (AppleScript)â”‚    â”‚
â”‚  â”‚  - Stop hookå®Œäº†ç›£è¦–        â”‚    â”‚
â”‚  â”‚  - ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹å·®åˆ†å–å¾—    â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ AppleScript â†’ Terminal
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            Terminal.app             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚  claude (å¯¾è©±ãƒ¢ãƒ¼ãƒ‰)         â”‚    â”‚
â”‚  â”‚  - ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦IDç®¡ç†          â”‚    â”‚
â”‚  â”‚  - åŒä¸€ã‚¹ãƒ¬ãƒƒãƒ‰=åŒä¸€ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼ Stop hook
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         scripts/on-stop.sh          â”‚
â”‚  - å®Œäº†ãƒãƒ¼ã‚«ãƒ¼ä½œæˆ                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## 2. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

### 2.1 Slack Bot Client

**è²¬å‹™**: Slackã‚¤ãƒ™ãƒ³ãƒˆã®å—ä¿¡ã¨æŠ•ç¨¿

**ä½¿ç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒª**: `@slack/bolt` (Socket Modeå¯¾å¿œ)

**ä¸»è¦æ©Ÿèƒ½**:
- Socket Mode ã§ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡
- `message` ã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
- ã‚¹ãƒ¬ãƒƒãƒ‰ã¸ã®è¿”ä¿¡æŠ•ç¨¿

### 2.2 Claude Executor

**è²¬å‹™**: Claude Code CLI ã®å¯¾è©±ãƒ¢ãƒ¼ãƒ‰å®Ÿè¡Œ + ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†

**ä¸»è¦æ©Ÿèƒ½**:
- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†ï¼ˆJSONãƒ•ã‚¡ã‚¤ãƒ«æ°¸ç¶šåŒ–: thread_ts â†’ window_idï¼‰
- Terminalèµ·å‹•ï¼ˆAppleScriptçµŒç”±ï¼‰
- æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³: æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§claudeèµ·å‹•
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™ç¶š: ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ + ãƒšãƒ¼ã‚¹ãƒˆæ–¹å¼ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
- Stop hookç›£è¦–ã«ã‚ˆã‚‹å¿œç­”å®Œäº†æ¤œçŸ¥
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã®å·®åˆ†å–å¾—

## 3. ãƒ‡ãƒ¼ã‚¿æ§‹é€ 

### 3.1 ã‚»ãƒƒã‚·ãƒ§ãƒ³å¯¾å¿œè¡¨ (sessions.json)

```json
{
  "sessions": {
    "<thread_ts>": {
      "window_id": 12345,
      "created_at": "2026-01-26T10:00:00.000Z",
      "last_used_at": "2026-01-26T10:30:00.000Z",
      "terminal_content_before": "..."
    }
  }
}
```

**ç‰¹å¾´**:
- JSONãƒ•ã‚¡ã‚¤ãƒ«ã§æ°¸ç¶šåŒ–
- ãƒ—ãƒ­ã‚»ã‚¹å†èµ·å‹•å¾Œã‚‚ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™ç¶šå¯èƒ½
- ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦IDã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚’ç‰¹å®š

### 3.2 Stop hookç”¨ãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ« | ç”¨é€” |
|----------|------|
| `/tmp/claude_current_thread` | ç¾åœ¨å‡¦ç†ä¸­ã®thread_ts |
| `/tmp/claude_done_<thread_ts>` | å¿œç­”å®Œäº†ãƒãƒ¼ã‚«ãƒ¼ |
| `/tmp/claude_stop_hook.log` | ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚° |

## 4. å‡¦ç†ãƒ•ãƒ­ãƒ¼

### 4.1 æ–°è¦ã‚¹ãƒ¬ãƒƒãƒ‰ï¼ˆè¦ªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ï¼‰

```
1. Slack message ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡
2. ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
   - å¯¾è±¡ãƒãƒ£ãƒ³ãƒãƒ«ã‹ï¼Ÿ â†’ No: ç„¡è¦–
   - botæŠ•ç¨¿ã‹ï¼Ÿ â†’ Yes: ç„¡è¦–
   - thread_ts ã‚ã‚Šï¼Ÿ â†’ Yes: 4.2ã¸
3. /tmp/claude_current_thread ã«thread_tsã‚’æ›¸ãè¾¼ã¿
4. æ–°ã—ã„ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ãï¼ˆAppleScriptï¼‰
5. claude --dangerously-skip-permissions ã‚’å®Ÿè¡Œ
6. ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦IDã‚’sessions.jsonã«ä¿å­˜
7. /tmp/claude_done_<thread_ts> ã‚’ç›£è¦–
8. å®Œäº†å¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã®å·®åˆ†ã‚’å–å¾—
9. Slack ã‚¹ãƒ¬ãƒƒãƒ‰ã«è¿”ä¿¡æ¡ˆã‚’æŠ•ç¨¿
```

### 4.2 ã‚¹ãƒ¬ãƒƒãƒ‰å†…è¿”ä¿¡

```
1. Slack message ã‚¤ãƒ™ãƒ³ãƒˆå—ä¿¡
2. ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°
   - å¯¾è±¡ãƒãƒ£ãƒ³ãƒãƒ«ã‹ï¼Ÿ â†’ No: ç„¡è¦–
   - botæŠ•ç¨¿ã‹ï¼Ÿ â†’ Yes: ç„¡è¦–
   - thread_ts ã‚ã‚Šï¼Ÿ â†’ No: 4.1ã¸
3. sessions.jsonã‹ã‚‰window_idã‚’å–å¾—
   - è¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ: ã‚¨ãƒ©ãƒ¼
4. /tmp/claude_current_thread ã«thread_tsã‚’æ›¸ãè¾¼ã¿
5. å¯¾è±¡ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
6. ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ + Cmd+V + Enter ã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡
7. /tmp/claude_done_<thread_ts> ã‚’ç›£è¦–
8. å®Œäº†å¾Œã€ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã®å·®åˆ†ã‚’å–å¾—
9. Slack ã‚¹ãƒ¬ãƒƒãƒ‰ã«è¿”ä¿¡æ¡ˆã‚’æŠ•ç¨¿
```

## 5. Claude Code å®Ÿè¡Œè©³ç´°

### 5.1 å®Ÿè¡Œæ–¹å¼

**å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ + Stop hookæ–¹å¼**ã‚’æ¡ç”¨:
1. AppleScriptã§ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã
2. `claude --dangerously-skip-permissions` ã§å¯¾è©±ãƒ¢ãƒ¼ãƒ‰èµ·å‹•
3. åŒã˜ã‚¹ãƒ¬ãƒƒãƒ‰ã§ã¯åŒã˜ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡
4. Stop hookã§å¿œç­”å®Œäº†ã‚’æ¤œçŸ¥
5. ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã®å·®åˆ†ã‹ã‚‰å¿œç­”ã‚’æŠ½å‡º

**ç†ç”±**:
- ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ä¸Šã§Claudeã¨ã®ã‚„ã‚Šå–ã‚ŠãŒå¯è¦–åŒ–ã•ã‚Œã‚‹
- åŒä¸€ã‚¹ãƒ¬ãƒƒãƒ‰=åŒä¸€ã‚»ãƒƒã‚·ãƒ§ãƒ³ã®å¯¾å¿œãŒè‡ªç„¶
- å¯¾è©±ã®æµã‚ŒãŒç¶­æŒã•ã‚Œã‚‹

### 5.2 æ–°è¦ã‚»ãƒƒã‚·ãƒ§ãƒ³

```bash
cd /path/to/working/dir && claude --dangerously-skip-permissions --append-system-prompt '<system_prompt>' '<message>'
```

### 5.3 ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¶™ç¶š

```applescript
-- ã‚¯ãƒªãƒƒãƒ—ãƒœãƒ¼ãƒ‰ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ã‚»ãƒƒãƒˆ
set the clipboard to "<message>"

-- å¯¾è±¡ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–
tell application "Terminal"
    set frontmost of window id <window_id> to true
end tell

-- ãƒšãƒ¼ã‚¹ãƒˆ + Enter
tell application "System Events"
    tell process "Terminal"
        keystroke "v" using command down
        keystroke return
    end tell
end tell
```

### 5.4 Stop hookè¨­å®šï¼ˆå‰ææ¡ä»¶ï¼‰

ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã® `.claude/settings.json` ã«ä»¥ä¸‹ã‚’è¿½åŠ :

```json
{
  "hooks": {
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/path/to/slack-claude-bridge/scripts/on-stop.sh"
          }
        ]
      }
    ]
  }
}
```

### 5.5 å¿œç­”å†…å®¹ã®æŠ½å‡º

ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã®å·®åˆ†ã‹ã‚‰å¿œç­”ã‚’æŠ½å‡º:

```typescript
// é€ä¿¡å‰ã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã‚’ä¿å­˜
const terminalContentBefore = await getTerminalContent(windowId);

// ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡...
// Stop hookå¾…æ©Ÿ...

// é€ä¿¡å¾Œã®ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹ã‚’å–å¾—
const terminalContentAfter = await getTerminalContent(windowId);

// å·®åˆ†ã‚’æŠ½å‡º
const response = extractResponse(terminalContentBefore, terminalContentAfter);
```

## 6. SlackæŠ•ç¨¿ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆ

```
è¿”ä¿¡æ¡ˆï¼ˆãƒ‰ãƒ©ãƒ•ãƒˆï¼‰ğŸ‘‡

<ClaudeãŒç”Ÿæˆã—ãŸãƒ†ã‚­ã‚¹ãƒˆ>
```

## 7. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

| ã‚¨ãƒ©ãƒ¼ç¨®åˆ¥ | å¯¾å¿œ |
|-----------|------|
| Stop hookã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆ | ãƒ­ã‚°è¨˜éŒ²ã€SlackæŠ•ç¨¿ã—ãªã„ |
| Terminalèµ·å‹•å¤±æ•— | ãƒ­ã‚°è¨˜éŒ²ã€SlackæŠ•ç¨¿ã—ãªã„ |
| ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦IDå–å¾—å¤±æ•— | ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°å‡ºåŠ›ã€å‡¦ç†ã‚¹ã‚­ãƒƒãƒ— |
| ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹å–å¾—å¤±æ•— | ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ï¼ˆç©ºæ–‡å­—åˆ—ï¼‰ |
| SlackæŠ•ç¨¿å¤±æ•— | ãƒ­ã‚°è¨˜éŒ²ã®ã¿ |

## 8. è¨­å®šé …ç›®

```javascript
const config = {
  // Slack
  slackBotToken: process.env.SLACK_BOT_TOKEN,
  slackAppToken: process.env.SLACK_APP_TOKEN,  // Socket Modeç”¨
  targetChannelId: process.env.TARGET_CHANNEL_ID,

  // Claude
  claudeWorkingDir: process.env.CLAUDE_WORKING_DIR || process.cwd(),
  claudeTimeout: 300000,  // 5åˆ†ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆï¼‰

  // Sessions
  sessionsFilePath: './sessions.json',
};
```

## 9. ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªæ§‹æˆ

```
slack-claude-bridge/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts           # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ slack-client.ts    # Slack Bot Client
â”‚   â”œâ”€â”€ claude-executor.ts # Claude Executor + ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ç®¡ç†
â”‚   â””â”€â”€ config.ts          # è¨­å®š
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ on-stop.sh         # Stop hookç”¨ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ requirements.md    # è¦ä»¶å®šç¾©æ›¸
â”‚   â””â”€â”€ design.md          # è¨­è¨ˆæ›¸
â”œâ”€â”€ sessions.json          # ã‚»ãƒƒã‚·ãƒ§ãƒ³å¯¾å¿œè¡¨ï¼ˆè‡ªå‹•ç”Ÿæˆï¼‰
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â””â”€â”€ .env                   # ç’°å¢ƒå¤‰æ•°
```

## 10. æŠ€è¡“é¸å®š

| é …ç›® | é¸å®š | ç†ç”± |
|------|------|------|
| è¨€èª | TypeScript | å‹å®‰å…¨ã€ã‚¨ãƒ©ãƒ¼æ¤œå‡º |
| Slack SDK | @slack/bolt | Socket Modeå¯¾å¿œã€å…¬å¼ |
| ãƒ—ãƒ­ã‚»ã‚¹å®Ÿè¡Œ | child_process.exec + AppleScript | ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦IDç®¡ç†ã€å¯è¦–åŒ– |
| çŠ¶æ…‹ç®¡ç† | JSONãƒ•ã‚¡ã‚¤ãƒ« | æ°¸ç¶šåŒ–ã€ãƒ—ãƒ­ã‚»ã‚¹å†èµ·å‹•å¾Œã‚‚ç¶™ç¶šå¯èƒ½ |
| å¿œç­”æ¤œçŸ¥ | Stop hook + ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦– | Claude Codeæ¨™æº–æ©Ÿèƒ½ã‚’æ´»ç”¨ |
| å¿œç­”å–å¾— | ã‚¿ãƒ¼ãƒŸãƒŠãƒ«å†…å®¹å·®åˆ† | å¯¾è©±ãƒ¢ãƒ¼ãƒ‰ã®å‡ºåŠ›ã‚’ç›´æ¥å–å¾— |

## 11. åˆ¶é™äº‹é …ãƒ»æ—¢çŸ¥ã®å•é¡Œ

| é …ç›® | å†…å®¹ |
|------|------|
| macOSå°‚ç”¨ | AppleScriptã‚’ä½¿ç”¨ã™ã‚‹ãŸã‚macOSã§ã®ã¿å‹•ä½œ |
| TerminalãŒå¿…è¦ | å®Ÿè¡Œä¸­ã«Terminal.appãŒé–‹ãï¼ˆå¯è¦–åŒ–ã®ãŸã‚ï¼‰ |
| Stop hookè¨­å®šå¿…é ˆ | ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«.claude/settings.jsonã®è¨­å®šãŒå¿…è¦ |
| åŒæ™‚å‡¦ç†åˆ¶é™ | è¤‡æ•°ã‚¹ãƒ¬ãƒƒãƒ‰ã®åŒæ™‚å‡¦ç†ã¯é †æ¬¡å®Ÿè¡Œã‚’æ¨å¥¨ |

## 12. å‰ææ¡ä»¶

### 12.1 Stop hookè¨­å®š

Claude Code ã® Stop hook ã‚’è¨­å®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã€‚

ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼ˆCLAUDE_WORKING_DIRï¼‰ã® `.claude/settings.json`:

```json
{
  "hooks": {
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "/Users/chihiro/src/github.com/CHIHI913/slack-claude-bridge/scripts/on-stop.sh"
          }
        ]
      }
    ]
  }
}
```

### 12.2 ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¨©é™

System Eventsã§ã‚­ãƒ¼ã‚¹ãƒˆãƒ­ãƒ¼ã‚¯ã‚’é€ä¿¡ã™ã‚‹ãŸã‚ã€Terminalã«ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£æ¨©é™ãŒå¿…è¦:

1. ã‚·ã‚¹ãƒ†ãƒ è¨­å®š > ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ > ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£
2. Terminal.app ã‚’è¿½åŠ ã—ã¦æœ‰åŠ¹åŒ–
